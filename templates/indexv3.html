<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Translator - D·ªãch thu·∫≠t th√¥ng minh</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="header">
        <h1>üåç AI Translator</h1>
        <p>D·ªãch thu·∫≠t th√¥ng minh - Nhanh ch√≥ng & Ch√≠nh x√°c</p>
    </div>

    <div class="container">
        <div class="translate-box">

            <!-- Language Selection -->
            <div class="language-selector">
                <div class="language-dropdown">
                    <button class="language-button" id="sourceLangBtn">
                        <span id="sourceLangText">Ch·ªçn ng√¥n ng·ªØ</span>
                        <span>‚ñº</span>
                    </button>

                    <div class="dropdown-menu" id="sourceDropdown">
                        <div class="search-box">
                            <input type="text" id="sourceSearch" placeholder="üîç T√¨m ki·∫øm ng√¥n ng·ªØ...">
                        </div>
                        <ul class="language-list" id="sourceList"></ul>
                    </div>
                </div>

                <button class="swap-button" id="swapBtn" title="ƒê·ªïi ng√¥n ng·ªØ">
                    <svg viewBox="0 0 24 24">
                        <path d="M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"/>
                    </svg>
                </button>

                <div class="language-dropdown">
                    <button class="language-button" id="targetLangBtn">
                        <span id="targetLangText">English</span>
                        <span>‚ñº</span>
                    </button>

                    <div class="dropdown-menu" id="targetDropdown">
                        <div class="search-box">
                            <input type="text" id="targetSearch" placeholder="üîç T√¨m ki·∫øm ng√¥n ng·ªØ...">
                        </div>
                        <ul class="language-list" id="targetList"></ul>
                    </div>
                </div>
            </div>

            <!-- Error message -->
            <div class="error-message" id="errorMessage"></div>

            <!-- Text Areas -->
            <div class="text-areas">
                <div class="text-area input">
                    <div class="text-area-header">VƒÉn b·∫£n g·ªëc</div>
                    <textarea id="sourceText" placeholder="Nh·∫≠p vƒÉn b·∫£n c·∫ßn d·ªãch... (Nh·∫•n Ctrl+Enter ƒë·ªÉ d·ªãch nhanh)"></textarea>
                    <div class="char-count">
                        <span id="charCount">0</span> / 5000
                    </div>
                </div>

                <div class="text-area output">
                    <div class="text-area-header">B·∫£n d·ªãch</div>
                    <textarea id="targetText" placeholder="B·∫£n d·ªãch s·∫Ω xu·∫•t hi·ªán ·ªü ƒë√¢y..." readonly></textarea>

                    <div class="feedback-buttons">
                        <button class="like-btn" id="likeBtn">üëç</button>
                        <button class="dislike-btn" id="dislikeBtn">üëé</button>
                    </div>
                </div>
            </div>

            <!-- Loading indicator -->
            <div class="loading" id="loading">
                ‚è≥ ƒêang d·ªãch vƒÉn b·∫£n...
            </div>

            <!-- Bottom Actions -->
            <div class="bottom-actions">

                <div class="action-group">
                    <div class="file-upload">
                        <label for="fileInput">
                            üìÑ Ch·ªçn file
                            <input type="file" id="fileInput" accept=".txt,.doc,.docx,.pdf,.odt">
                        </label>
                    </div>
                    <span class="file-name" id="fileName"></span>

                    <button class="tts-button" id="ttsBtn" title="Chuy·ªÉn vƒÉn b·∫£n th√†nh gi·ªçng n√≥i">
                        üîä Nghe b·∫£n d·ªãch
                    </button>
                </div>

                <div class="action-group">
                    <label for="styleSelect" style="font-weight:600;color:#495057;">üé® Ch·ªçn phong c√°ch:</label>
                    <select id="styleSelect"
                        style="padding:12px 16px;border:2px solid #e1e8ed;border-radius:12px;font-size:15px;font-weight:600;color:#667eea;cursor:pointer;">
                        {% for s in styte_list %}
                            <option value="{{ s }}">{{ s }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="thinking-wrapper">
                    <span class="thinking-label">üß† Thinking Mode</span>
                    <label class="switch">
                        <input type="checkbox" id="thinkingToggle">
                        <span class="slider"></span>
                    </label>
                </div>

                <button class="translate-button" id="translateBtn">‚ú® D·ªãch ngay</button>

            </div>

        </div>
    </div>

    <!-- FLASK DATA (safe for Jinja) -->
    <script>
        /* D·ªØ li·ªáu render t·ª´ Flask. Kh√¥ng d√πng {{ }} trong comment ƒë·ªÉ tr√°nh l·ªói */
        const languageCodeDict = {{ language_code_dict | tojson }};
    </script>

    <script src="script.js"></script>
</body>
</html>
